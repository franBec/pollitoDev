---
author: "Franco Becvort"
title: "VPS 2: Let's setup"
date: 2025-01-28
description: "Pick a provider, Choose OS, Point a DNS record, Harden SSH"
categories: ["VPS"]
thumbnail: /uploads/2025-01-28-vps-2/DALL·E2025-01-28175135.jpg
---

<!-- TOC -->
  * [Pick a VPS Provider](#pick-a-vps-provider)
    * [Get a plan according to your needs](#get-a-plan-according-to-your-needs)
    * [Choose an OS and setup password and SSH](#choose-an-os-and-setup-password-and-ssh)
  * [Add a new user account](#add-a-new-user-account)
  * [Point a DNS record at the server (AKA Get a domain)](#point-a-dns-record-at-the-server-aka-get-a-domain)
  * [Add security to the VPS: Harden SSH](#add-security-to-the-vps-harden-ssh)
<!-- TOC -->


## Pick a VPS Provider

When choosing a VPS provider, you’ll quickly discover there’s no shortage of options. However, three names you’ll frequently encounter in reviews, forums, and recommendations are:

- **[A2 Hosting](https://www.a2hosting.com/)**: Known for its speed-optimized servers and developer-friendly tools.
- **[Hetzner](https://www.hetzner.com/)**: A budget-friendly European provider with a strong reputation for reliability.
- **[Hostinger](https://www.hostinger.com/)**: Offers affordable plans with a user-friendly interface, ideal for beginners.

There’s no “wrong” choice here. Your decision should depend on your specific needs, such as budget, server location, customer support expectations, or scalability requirements.
I chose **Hostinger** because two of my favorite programming content creators used it in the past.

**Dreams of Code**
{{< youtube F-9KWQByeU0 >}}

**Web Dev Cody**
{{< youtube ZmL46xVdYzM >}}

### Get a plan according to your needs

Courtesy of my current employer [Devsu](https://devsu.com/), I got the _KVM2 plan_ for a 2 years term, which for the personal projects I have planned, it has good enough technical capabilities.

![hostinger-pricing](/uploads/DALL·E2025-01-28175135/hostinger-pricing.png)

You can use my discount content creator coupon code... Nah I'm not sponsored, I wish though (Hostinger hit me up!)
- Tip: Go on YouTube, search "Hostinger VPS", order by date to get recent videos, and probably if the video is a good review of a creator with many subscribers, they might have a coupon code you can use. 10% discount is always welcomed.

### Choose an OS and setup password and SSH

After obtaining the instance, choose an OS: I'm going with Ubuntu 24.04, as it is one of the most common OS when setting up a VPS.

![hostinger-select-os](/uploads/2025-01-28-vps-2/hostinger-select-os.png)

_I **don't** use Arch btw_.

On the next screen, you're offered a malware scanner. I left it enabled, as it seems to be lightweight and it is free.
![hostinger-malware-scanner](/uploads/2025-01-28-vps-2/hostinger-malware-scanner.png)

Then you set up a password for the root user. Also add a SSH Key so you can later log in through SSH.
- Hostinger will provide you with instructions on how to generate and add an SSH key in case you are not sure.

![hostinger-password](/uploads/2025-01-28-vps-2/hostinger-password.png)

After finishing the set-up, wait a few minutes for your VPS instance to start. Then test the log in through SSH.

```bash
ssh root@vps-instance-ip-address
```

You can find your VPS instance IP address in the Overview -> VPS information screen. From now on, I'm going to be using my VPS IP address in the examples.

![hostinger-overview](/uploads/2025-01-28-vps-2/hostinger-overview.png)

I have my VPS up, now what?

## Add a new user account

Working directly as the **root user** on your VPS is widely discouraged for security and practical reasons. Here’s why creating a dedicated user account is a best practice:

- **Security risks:** The root user has unrestricted access to your entire system. If compromised (e.g., via a brute-force attack or accidental exposure), attackers can wreak havoc. A non-root user limits potential damage by operating under the *principle of least privilege*.
- **Accidental system changes:** A single typo in a command (like `rm -rf /` instead of `rm -rf ./`) can delete critical system files when run as root. A regular user account acts as a safeguard against such catastrophic mistakes.
- **Audit trails:** Using a dedicated user makes it easier to track actions in logs, especially if multiple people access the server. Root activity is harder to attribute to specific users, complicating troubleshooting.
- **SSH hardening:** Most attacks target the root user via SSH. By disabling root login and using SSH keys with a non-root account, you reduce your server’s exposure to brute-force attacks.
- **Application requirements:** Some tools and services (e.g., Docker) may refuse to run as root for security reasons. A standard user account ensures compatibility with such software.

**How to start:**
1. Create a new user (e.g., `adduser pollito`).
2. Grant sudo privileges for administrative tasks (`usermod -aG sudo pollito`).
3. Test it is working by switching to the new user (`su - pollito`) and running a test sudo command (`sudo ls /`)

## Point a DNS record at the server (AKA Get a domain)

To connect your VPS to a domain name, you’ll need to configure DNS records. You can either use an existing domain you own or purchase a new one (Hostinger offers [domain registration](https://hpanel.hostinger.com/domains/domain-checker) if you prefer an all-in-one solution). Here’s how to set it up:

1. **Prepare Your Domain**
    - Log in to your domain provider’s DNS management panel (e.g., Hostinger’s DNS dashboard).
    - Remove any existing **A records** or **CNAME records** tied to the root domain (`@` or `yourdomain.com`) that were auto-generated or are no longer needed. These often point to placeholder IPs.

2. **Add a New A Record**
    - Create a new **A record** for the root domain (`@` or `yourdomain.com`).
    - Set the **value** or **destination** field to your VPS’s public IP address.
    - Save the record.

    ![hostinger-dns](/uploads/2025-01-28-vps-2/hostinger-dns.png)

3. **Wait for Propagation**  
   DNS changes can take up to 24–48 hours to propagate globally. You can check progress using tools like `dig yourdomain.com` or `ping yourdomain.com` (once propagation is complete, it should resolve to your VPS IP).

**Note**: Avoid adding unrelated CNAME or A records for the root domain during this process, as they may conflict with your new configuration.

## Add security to the VPS: Harden SSH

Automated bots constantly scan the internet for SSH servers, attempting brute-force attacks using common credentials.

![ssh-bruteforcer](/uploads/2025-01-28-vps-2/ssh-bruteforcer.png)
_Visualization from [viz.greynoise.io](https://viz.greynoise.io/tags/ssh-bruteforcer-attempt?days=1)_

To reduce the attack surface we'll remove password authentication on SSH.

Before this, is needed to ensure your non-root user has your SSH public key installed (**if not, we are going to become softlocked**). To do this, copy the SSH public key. An easy way to achieve that is to use the ssh-copy-id command:

```bash
ssh-copy-id pollito@147.93.55.247
```

- Be sure to be `logout` of the VPS, you need to be in your local machine.
- If you are in Windows, you can make this work using [Git Bash](https://git-scm.com/downloads/win).

Now try logging into the VPS and check to make sure everything is working.

```bash
ssh pollito@147.93.55.247
```
Now, let's disable Password Authentication.

1. Edit the SSH server configuration: do `sudo vim /etc/ssh/sshd_config` and modify these lines:
   - `PasswordAuthentication no`
   - `PermitRootLogin no`
   - `UsePAM no`
2. Hostinger-Specific adjustment: also set `PasswordAuthentication no` in `/etc/ssh/sshd_config.d/50-cloud-init.conf`
3. Apply changes with `sudo systemctl reload ssh`

Test everything is working correctly by checking you cannot longer log as the root user.

```bash
>ssh root@147.93.55.247
root@147.93.55.247: Permission denied (publickey).
```

Now the VPS has been hardened from SSH attacks, specially brute-forcing.